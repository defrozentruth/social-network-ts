{"version":3,"sources":["../../server/loaders/backend.ts"],"names":["routersPool","server","use","userRouter","newsRouter","messageRouter","friendRouter","errorHandler","err","req","res","next","console","error","message","let","status","code","send"],"mappings":"OACOA,gBAAiB,2CAET,IACXC,EAAOC,IAAI,YAAaF,YAAYG,UAAU,EAC9CF,EAAOC,IAAI,YAAaF,YAAYI,UAAU,EAC9CH,EAAOC,IAAI,eAAgBF,YAAYK,aAAa,EACpDJ,EAAOC,IAAI,cAAeF,YAAYM,YAAY,EAElDL,EAAOC,IAAI,OAAQK,YAAY,CACnC,EAEA,SAASA,aAAaC,EAAUC,EAAgBC,EAAiBC,GAC7DC,QAAQC,MAAML,EAAIM,OAAO,EACzBC,IAAIC,EAASR,EAAIS,MAAQ,IACzBP,EAAIM,OAAOA,CAAM,EAAEE,KAAgB,MAAXF,EAAiB,wBAA0BR,EAAIM,OAAO,CAClF","file":"backend.js","sourcesContent":["import e from \"express\";\r\nimport routersPool from \"../routers/router-pool.js\";\r\n\r\nexport default (server: e.Express) => {\r\n    server.use('/api/user', routersPool.userRouter);\r\n    server.use('/api/news', routersPool.newsRouter);\r\n    server.use('/api/message', routersPool.messageRouter);\r\n    server.use('/api/friend', routersPool.friendRouter);\r\n\r\n    server.use('/api', errorHandler);\r\n};\r\n\r\nfunction errorHandler(err: any, req: e.Request, res: e.Response, next: e.NextFunction) {\r\n    console.error(err.message)\r\n    let status = err.code || 500\r\n    res.status(status).send(status === 500 ? 'Internal server error' : err.message)\r\n}"]}